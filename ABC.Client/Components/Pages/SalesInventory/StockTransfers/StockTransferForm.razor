@using ABC.Shared.Models
@using ABC.Shared.Utility
@using Layout
@page "/StockTransfer"
@layout AdminLayout

@rendermode InteractiveServer

<PageTitle>ABC - Stock Transfer</PageTitle>

<section class="container">
	<EditForm Model="selectedStockTransfer" OnValidSubmit="SaveStockTransfer" enctype="multipart/form-data">
		<!--New Product-->
		<div class="row pt-2 pb-2" id="topbar">
			<!-- Title -->
			<div class="col-lg-8 col-sm-12 text-start mb-3 mb-sm-0">
				<h1 style="color: #223442;"><b>@(selectedStockTransfer.Id != 0 ? $"ST #{selectedStockTransfer.Id}" : "Transfer Stock")</b></h1>
			</div>

			<!-- Save Button -->
			<div class="col-lg-4 col-sm-4 text-end mb-3 mb-sm-0">
				@if (selectedStockTransfer.Id != 0)
				{
					<button class="btn btn-success" type="submit">
						<i class="bi bi-floppy"></i> Download as PDF
					</button>
					<button class="btn btn-danger" type="button" @onclick="() => CancelAction()">
						<i class="bi bi-floppy"></i> Cancel
					</button>
				}
				else
				{
					<button class="btn btn-success" type="submit">
						<i class="bi bi-floppy"></i> Save
					</button>
					<button class="btn btn-danger" type="button" @onclick="() => CancelAction()">
						<i class="bi bi-floppy"></i> Cancel
					</button>
				}
			</div>
		</div>

		<div class="row pb-3">
			<div class="col-12">
				<div class="border p-3 container shadow">
					<div class="row">
						<div class="col-6">
							<div class="input-group mb-3">
								<label class="input-group-text" for="status">Status</label>
								<input type="text" class="form-control" @bind-value="selectedStockTransfer.Status" disabled>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-6">
							<div class="col-12">
								<div class="input-group mb-3">
									<label class="input-group-text" for="status">Creation Date</label>
									<input type="text" class="form-control" @bind-value="selectedStockTransfer.TransferCreationDate" disabled>
								</div>
							</div>
							<div class="col-12">
								<div class="input-group mb-3">
									<label class="input-group-text" for="sourceStore">Source Store</label>
									<select class="form-select" @bind="selectedStockTransfer.SourceStore">
										@* @foreach (var store in StoreList)
										{
											<option value="@store.Id">@store.storeName</option>
										} *@
									</select>
								</div>
							</div>
						</div>

						<div class="col-6">
							<div class="col-12">
								<div class="input-group mb-3">
									<label class="input-group-text" for="status">Transfer Date</label>
									<input type="text" class="form-control" @bind-value="selectedStockTransfer.TransferDate">
								</div>
							</div>
							<div class="col-12">
								<div class="input-group mb-3">
									<label class="input-group-text" for="destination">Destination Store</label>
									<select class="form-select" @bind="selectedStockTransfer.DestinationStore">
										@* @foreach (var store in StoreList)
										{
											<option value="@store.Id">@store.storeName</option>
										} *@
									</select>
								</div>
							</div>
							<div class="col-12">
								<div class="form-floating">
									<textarea class="form-control" placeholder="Remarks" @bind="selectedStockTransfer.TransferRemarks" style="height: 100px" id="Remarks"></textarea>
									<label for="Remarks">Remarks</label>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="row pb-3">
			<div class="col-12">
				<div class="border p-3 container shadow">
					<div class="row pb-2">
						<h5>Products to Transfer</h5>
						<hr />
					</div>
				</div>
			</div>
		</div>
	</EditForm>
</section>